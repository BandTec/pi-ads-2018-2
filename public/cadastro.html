<!DOCTYPE html>
<html lang="pt-br; en" id="home">
   	<head>
      	<title>Cadastro</title>
     	<meta charset="UTF-8">
   	    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
      	<meta name="msapplication-TileColor" content="#ffffff">
      	<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
      	<meta name="theme-color" content="#ffffff">
      	<!-- jQuery -->
      	<script src="assets/js/jquery-3.3.1.min.js"></script>
      	<script src="assets/js/jquery-ui.js"></script>
      	<!-- Popper -->
      	<script src="assets/js/popper.min.js"></script>
      	<!-- Bootstrap -->
      	<link rel="stylesheet" href="assets/css/bootstrap.min.css">
      	<script src="assets/js/bootstrap.js"></script>
      	<!-- Font Awesome -->
      	<link rel="stylesheet" href="assets/css/font-awesome.css">
      	<script src="assets/js/7df7e1332b.js"></script>
      	<!-- FONTS  -->
      	<link href="https://fonts.googleapis.com/css?family=PT+Sans" rel="stylesheet">
      	<link href="https://fonts.googleapis.com/css?family=Anton" rel="stylesheet">
      	<!-- CSS -->
      	<link rel="stylesheet" href="assets/css/jquery-ui.css">
      	<link rel="stylesheet" href="assets/css/style.css">
   	</head>
   	<body id="body">
      	<div class="row">
        	<div class="col-md-12 mx-auto">
				<div class="col-md-6">
					<form id="formCadastro" method="post" onsubmit="return cadastrar();">
						<div class="form-group">
							<label for="loginUsername">Nome: </label>
							<input type="text" class="form-control" id="nome" name="nome">
						</div>
						<div class="form-group">
							<label for="loginUsername">Login: </label>
							<input type="text" class="form-control" id="login" name="login">
						</div>
						<div class="form-group">
							<label for="loginPassword">Senha: </label>
							<input type="password" class="form-control" id="senha" name="senha">
						</div>
						<div>
							<input type="submit" class="form-control btn btn-success" value="Entrar"
							id="btn-submit">
						</div>
					</form>
				<div id="div_erro" style="display:none; color:red">
				</div>
         	</div>
      	</div>
    	<script src="assets/js/main.js"></script>
   	</body>
</html>
<script>
	function cadastrar() {
		$('#btn-submit').attr('disabled','true');

		var dados = $('#formCadastro').serialize();

		$.ajax({
				url : "cadastro",
				type: 'POST',
				data : dados
		})
		.done(function(resposta){ 
			window.location.href='login.html';
		})
		.fail(function(jqXHR, textStatus){ 
			$('#div_erro').html(jqXHR.responseJSON.mensagem);
			$('#div_erro').show();
		})
		.always(function(){
			$('#btn-submit').removeAttr('disabled');
		});


		return false;
	}
	
</script>